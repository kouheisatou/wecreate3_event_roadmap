# イベントタスク管理システム

このプロジェクトは、イベント運営に必要なタスクとサブタスクを管理するためのNext.jsアプリケーションです。

## 目次

- [概要](#概要)
- [データ仕様](#データ仕様)
  - [tasks.csv](#taskscsv)
  - [subtasks.csv](#subtaskscsv)
  - [subtask詳細ファイル（Markdownファイル）](#subtask詳細ファイルmarkdownファイル)
- [ディレクトリ構造](#ディレクトリ構造)
- [開発環境のセットアップ](#開発環境のセットアップ)
- [データの追加・編集方法](#データの追加編集方法)
- [データ整合性のルール](#データ整合性のルール)
- [サブタスク詳細ファイルのベストプラクティス](#サブタスク詳細ファイルのベストプラクティス)
- [実際の使い方（ユースケース）](#実際の使い方ユースケース)

---

## 概要

イベント企画・運営における複数のタスクとそれに紐づくサブタスクを、CSVファイルで管理し、Webインターフェースで可視化・管理できるシステムです。

## データ仕様

### tasks.csv

メインタスク（大項目）を管理するCSVファイルです。

**ファイルパス**: `public/tasks.csv`

**列構成**:

| 列名 | データ型 | 必須 | 説明 |
|------|---------|------|------|
| `id` | 整数 | ○ | タスクの一意識別子（1から始まる連番） |
| `title` | 文字列 | ○ | タスクの名称（例: "イベントコンセプト設計"） |
| `category` | 文字列 | ○ | タスクのカテゴリー（例: "企画段階", "準備段階", "当日準備"） |
| `dependencies` | 文字列 | △ | 依存する他タスクのIDをカンマ区切りで記載（例: "1,3,5"） |
| `checklist` | 文字列 | △ | 完了条件をパイプ区切りで記載（例: "項目1\|項目2\|項目3"） |
| `overview` | 文字列 | ○ | タスクの詳細説明・目的を記述 |

**サンプル行**:

```csv
1,イベントコンセプト設計,企画段階,,"イベントの目的が明確になっている|ターゲット参加者が定義されている|「誰に・何を・何のために」が言語化されている","イベントの根幹となるコンセプトを設計するフェーズです。"
```

**特記事項**:

- `dependencies`が空の場合は、他のタスクに依存しない独立したタスクです
- `checklist`の各項目は、タスク完了の確認項目として使用されます
- CSVの区切り文字はカンマ(`,`)、改行は`\n`です
- フィールド内に改行やカンマが含まれる場合はダブルクォートで囲みます

---

### subtasks.csv

各メインタスクに紐づくサブタスク（詳細作業項目）を管理するCSVファイルです。

**ファイルパス**: `public/subtasks.csv`

**列構成**:

| 列名 | データ型 | 必須 | 説明 |
|------|---------|------|------|
| `task_id` | 整数 | ○ | 紐づく親タスクのID（tasks.csvの`id`に対応） |
| `title` | 文字列 | ○ | サブタスクの名称（例: "役割分担決定"） |
| `instructions` | 文字列 | ○ | サブタスクの実施手順・指示内容 |
| `deliverables` | 文字列 | ○ | 成果物・アウトプット（例: "役割分担表"） |
| `estimated_hours` | 整数 | ○ | 予想作業時間（時間単位） |
| `template_files` | 文字列 | △ | 関連するテンプレートファイルのパス（例: "subtask_details/1_kickoff_agenda.md"） |

**サンプル行**:

```csv
1,役割分担決定,"統括、会場、広報、スポンサー等の各リーダーを決める。副担当も決めると良い。",役割分担表,2,"subtask_details/1_kickoff_agenda.md"
```

**特記事項**:

- `task_id`は必ず`tasks.csv`に存在する`id`を参照します
- 同じ`task_id`を持つ複数のサブタスクが存在できます（1つのタスクに対して複数のサブタスク）
- `template_files`には、関連するMarkdownファイルのパスを記載します
- `estimated_hours`は作業時間の見積もりで、プロジェクト管理に活用します

---

### subtask詳細ファイル（Markdownファイル）

各サブタスクの詳細な実施手順やテンプレートを記載したMarkdownファイルです。

**ディレクトリ**: `public/subtask_details/`

**ファイル命名規則**: `{番号}_{識別名}.md`

例：
- `1_kickoff_agenda.md` - キックオフミーティングのアジェンダ
- `4_sponsor_plan.md` - スポンサープラン設計書
- `70_reception_list.md` - 受付リスト作成

**必須セクション構成**:

| セクション | 必須 | 説明 |
|-----------|------|------|
| **タイトル（# 見出し）** | ○ | サブタスクの名称を記載 |
| **タスク概要** | ○ | サブタスクの概要を3〜5行で説明。何を達成するタスクなのか、なぜ必要なのかを明確に記述 |
| **目的** | ○ | 箇条書き（3〜5項目）で具体的な達成目標を記載 |
| **実施手順** | ○ | 番号付きリストで作業ステップを記載。各ステップに所要時間と具体的な作業内容を含める |
| **成果物** | ○ | このサブタスクで作成される成果物を箇条書きで記載 |
| **コピー可能なテンプレート** | ○ | 実際に使用できるマークダウン形式のテンプレート。コードブロック（\`\`\`markdown）で囲む |
| **チェックリスト** | ○ | タスク完了確認用のチェックリスト（`- [ ]`形式） |
| **Tips** | ○ | 実務で役立つヒントや注意点を箇条書きで記載 |
| **所要時間目安** | ○ | タスク全体の所要時間を記載（例: "2時間（準備30分 + 作業90分）"） |
| **参考資料** | △ | 関連URLや参考資料がある場合に記載 |

**コピー可能なテンプレート内での推奨項目**:

- 作成日・作成者・バージョン情報
- セクション分けされた内容（##、###見出し）
- 表形式のデータ（テーブル）
- チェックリスト（`- [ ]`形式）
- Next Action / 備考セクション
- 承認者・最終更新日

**実装例**:

```markdown
# スポンサープラン設計書

## タスク概要
企業がスポンサーとして協賛するプランを設計します。企業の採用ニーズやブランディングニーズに合わせたプランを用意することが重要です。

## 目的
- スポンサー特典を明確化する
- 価格帯別のプランを設計する
- 企業が協賛したくなる魅力的なプランを作る

## 実施手順
1. **スポンサーメリットの整理**（30分）
   - 企業が協賛する理由を分析

2. **プラン設計**（60分）
   - ゴールド・シルバー・ブロンズ等の階層を設計
   - 各プランの特典を明確化

## 成果物
- スポンサープラン一覧表

## コピー可能なテンプレート

\`\`\`markdown
# [イベント名] スポンサープラン

**作成日**: YYYY/MM/DD  
**作成者**: 〇〇

| プラン | 金額 | 特典 |
|--------|------|------|
| ゴールド | ¥300,000 | ロゴ掲載、登壇枠 |
\`\`\`

## チェックリスト
- [ ] スポンサープランが3〜5段階で設計されている
- [ ] 各プランの特典が明確に定義されている

## Tips
- **企業のニーズを理解**: 採用ニーズが高い
- **小口プランも用意**: 5万円程度の小口プランも用意

## 所要時間目安
3時間（市場調査1時間 + プラン設計2時間）
```

**新規ファイル作成時の手順**:

1. `public/subtask_details/_TEMPLATE.md`をコピー
2. ファイル名を`{番号}_{識別名}.md`に変更
3. 各セクションに具体的な内容を記入
4. コピー可能なテンプレートには、実際に使えるフォーマットを記載
5. `subtasks.csv`の`template_files`列にファイルパスを追加

---

## ディレクトリ構造

```
event-task-manager/
├── public/
│   ├── tasks.csv                     # メインタスクデータ
│   ├── subtasks.csv                  # サブタスクデータ
│   └── subtask_details/              # サブタスク詳細のMarkdownファイル
│       ├── _TEMPLATE.md              # テンプレートファイル（新規作成時に使用）
│       ├── 1_kickoff_agenda.md       # キックオフアジェンダ
│       ├── 2_budget_items.md         # 予算項目
│       ├── 4_sponsor_plan.md         # スポンサープラン
│       ├── 6_speaker_request.md      # 登壇者依頼
│       ├── 70_reception_list.md      # 受付リスト
│       └── ...                       # その他86個のサブタスク詳細
├── app/                              # Next.js アプリケーションコード
├── README.md                         # 本ドキュメント
└── package.json
```

---

## 開発環境のセットアップ

### 必要要件

- Node.js 18.x以上
- npm / yarn / pnpm / bun

### 起動方法

1. 依存関係をインストール:

```bash
npm install
```

2. 開発サーバーを起動:

```bash
npm run dev
```

3. ブラウザで `http://localhost:3000` を開く

---

## データの追加・編集方法

### 1. 新しいメインタスクを追加する場合

1. `public/tasks.csv`を開く
2. 最終行に新しい行を追加
3. `id`は連番で最新の番号を割り当てる
4. 各列を埋める
   - `title`: タスク名を記入
   - `category`: カテゴリーを記入（既存のカテゴリーに合わせる）
   - `dependencies`: 依存するタスクIDをカンマ区切りで記入（例: "1,3,5"）
   - `checklist`: 完了条件をパイプ区切りで記入（例: "条件1|条件2|条件3"）
   - `overview`: タスクの詳細説明を記入

### 2. 新しいサブタスクを追加する場合

1. `public/subtasks.csv`を開く
2. 最終行に新しい行を追加
3. 各列を埋める
   - `task_id`: 紐づく親タスクのID
   - `title`: サブタスク名
   - `instructions`: 実施手順・指示内容
   - `deliverables`: 成果物の名称
   - `estimated_hours`: 予想作業時間（時間単位）
   - `template_files`: 詳細ファイルのパス（例: "subtask_details/XX_name.md"）

### 3. サブタスク詳細ファイル（Markdownファイル）を追加する場合

#### ステップ1: テンプレートをコピー

```bash
cp public/subtask_details/_TEMPLATE.md public/subtask_details/XX_your_task_name.md
```

#### ステップ2: ファイル名を決定

ファイル命名規則: `{番号}_{識別名}.md`

- `{番号}`: 識別用の番号（既存の番号と重複しないようにする）
- `{識別名}`: タスクを表す英語またはローマ字の識別子（小文字、アンダースコア区切り）

例：
- `87_new_task.md`
- `88_social_media_strategy.md`

#### ステップ3: 各セクションを記入

以下の順序で各セクションを記入します：

1. **タイトル**: `# サブタスク名` 形式で記入
2. **タスク概要**: 3〜5行で概要を説明
3. **目的**: 箇条書きで3〜5項目
4. **実施手順**: 番号付きリストで、各ステップに所要時間を記載
5. **成果物**: 作成される成果物をリスト化
6. **コピー可能なテンプレート**: 実際に使える具体的なテンプレートを記載
   - マークダウンのコードブロック（\`\`\`markdown）で囲む
   - 表形式、チェックリストなど実用的な形式で記載
7. **チェックリスト**: タスク完了確認用の項目（`- [ ]` 形式）
8. **Tips**: 実務ノウハウ、注意点を箇条書き
9. **所要時間目安**: 全体の作業時間を記載

#### ステップ4: subtasks.csvに紐付け

`public/subtasks.csv`の該当行の`template_files`列に、作成したファイルのパスを記入：

```csv
task_id,title,instructions,deliverables,estimated_hours,template_files
5,新しいサブタスク,"実施内容を記載",成果物名,3,"subtask_details/87_new_task.md"
```

#### 実際の記入例

```markdown
# SNS戦略立案

## タスク概要
イベントの認知度を高めるためのSNS戦略を立案します。X（Twitter）、Instagram、Facebookなど各プラットフォームの特性を理解し、効果的な発信計画を作ります。

## 目的
- ターゲット層に効果的にリーチする
- SNSでの拡散を最大化する
- イベントの認知度を向上させる

## 実施手順
1. **プラットフォーム選定**（30分）
   - ターゲット層が多く利用するSNSを選定
   - X、Instagram、LinkedInなどから選択

2. **投稿カレンダー作成**（60分）
   - いつ、何を投稿するか計画
   - 週2〜3回の頻度で設定

3. **ハッシュタグ戦略**（30分）
   - イベント専用ハッシュタグを決定
   - 関連ハッシュタグをリストアップ

## 成果物
- SNS投稿カレンダー
- ハッシュタグリスト

## コピー可能なテンプレート

\`\`\`markdown
# SNS戦略

| 日付 | プラットフォーム | 投稿内容 | ハッシュタグ |
|------|----------------|---------|-------------|
| MM/DD | X（Twitter） | イベント告知 | #イベント名 #Web3 |
\`\`\`

## チェックリスト
- [ ] 投稿カレンダーが作成されている
- [ ] ハッシュタグが決定している

## Tips
- **頻度よりも質**: 毎日投稿するよりも、週2〜3回の質の高い投稿を心がける
- **画像は必須**: テキストだけでなく、必ず画像や動画を添付する

## 所要時間目安
2時間（分析30分 + 計画策定90分）
```

### 4. 「コピー可能なテンプレート」セクションの書き方

このセクションは、実際の作業で**そのままコピー&ペーストして使える**実用的なテンプレートを提供することが目的です。

#### 基本構造

```markdown
## コピー可能なテンプレート

\`\`\`markdown
# [ドキュメントタイトル]

**作成日**: YYYY/MM/DD  
**作成者**: 〇〇  
**Version**: 1.0

---

## 1. セクション名

（実際のコンテンツ）

---

**最終更新日**: YYYY/MM/DD
\`\`\`
```

#### 含めるべき要素

1. **メタ情報**
   - 作成日、作成者、バージョン情報
   - 承認者（必要な場合）

2. **表形式のデータ**
   - タスクリスト、参加者リスト、予算表など
   - マークダウンのテーブル記法を使用

3. **チェックリスト**
   - `- [ ]` 形式で実行可能な項目をリスト化

4. **セクション区切り**
   - `---` で視覚的に区切る
   - `##` `###` 見出しで階層化

5. **プレースホルダー**
   - `[イベント名]`、`〇〇`、`YYYY/MM/DD`など、埋めるべき箇所を明示

#### 実装パターン例

**パターン1: 会議議事録**

```markdown
## コピー可能なテンプレート

\`\`\`markdown
# [会議名] 議事録

**日時**: YYYY/MM/DD HH:MM-HH:MM  
**場所**: オンライン（Zoom） / 対面（〇〇）  
**参加者**: 〇〇、〇〇、〇〇

---

## 議題

1. 議題1
2. 議題2

---

## 決定事項

| 項目 | 内容 | 担当者 |
|------|------|--------|
| 決定事項1 | 詳細 | 〇〇 |

---

## Next Action

| アクション | 担当者 | 期限 |
|-----------|--------|------|
| タスク1 | 〇〇 | MM/DD |

---

**次回MTG**: YYYY/MM/DD HH:MM
\`\`\`
```

**パターン2: チェックリスト**

```markdown
## コピー可能なテンプレート

\`\`\`markdown
# [タスク名] チェックリスト

## 事前準備

- [ ] 項目1
- [ ] 項目2
- [ ] 項目3

## 当日実施

- [ ] 項目1
- [ ] 項目2

## 事後対応

- [ ] 項目1
- [ ] 項目2
\`\`\`
```

**パターン3: 計画書**

```markdown
## コピー可能なテンプレート

\`\`\`markdown
# [計画名]

## 概要

| 項目 | 内容 |
|------|------|
| 目的 | 〇〇 |
| 期間 | YYYY/MM/DD 〜 YYYY/MM/DD |
| 担当者 | 〇〇 |

## スケジュール

| フェーズ | 期間 | 内容 | 担当 |
|---------|------|------|------|
| Phase1 | MM/DD-MM/DD | 内容 | 〇〇 |

## リスクと対策

| リスク | 発生確率 | 影響度 | 対策 |
|--------|---------|--------|------|
| リスク1 | 高 | 中 | 対策内容 |
\`\`\`
```

**パターン4: メールテンプレート**

```markdown
## コピー可能なテンプレート

\`\`\`markdown
件名: 【〇〇のお願い】[イベント名]

[氏名]様

お世話になっております。
[団体名]の[氏名]です。

（本文）

---

[団体名]
担当: [氏名]
Email: [メールアドレス]
電話: [電話番号]
\`\`\`
```

#### 記入時の注意点

- **実用性を最優先**: 理論的な説明ではなく、即座に使える形式にする
- **プレースホルダーは明示**: `[ここを埋める]` や `〇〇` で置き換え箇所を明確に
- **コメントを含める**: 必要に応じて `（※ここに〇〇を記入）` などの説明を追加
- **実例を示す**: サンプルデータを1〜2行含めると理解しやすい
- **フォーマットを統一**: プロジェクト内で同じスタイルを維持

---

## データ整合性のルール

- `tasks.csv`の`id`は一意でなければならない
- `subtasks.csv`の`task_id`は`tasks.csv`に存在する`id`を参照する必要がある
- `dependencies`に記載するタスクIDは、実際に存在するタスクIDである必要がある
- CSVファイルはUTF-8エンコーディングで保存する
- サブタスク詳細ファイルのファイル名は、`subtasks.csv`の`template_files`列の値と一致する必要がある

---

## サブタスク詳細ファイルのベストプラクティス

### 1. 読みやすさを重視

- **見出し階層を適切に**: `#`、`##`、`###` を使い分け、構造を明確にする
- **箇条書きを活用**: 長い文章よりも、要点を箇条書きで示す
- **表を活用**: 比較や一覧表示には表形式を使う
- **視覚的な区切り**: `---` で大きなセクションを区切る

### 2. 実用性を最優先

- **コピペしやすく**: テンプレートは、そのままコピーして使える形式にする
- **具体例を示す**: 抽象的な説明だけでなく、具体例を必ず含める
- **チェックリストで漏れ防止**: 作業の抜け漏れを防ぐチェックリストを用意

### 3. 保守性を考慮

- **更新日を記録**: テンプレートを更新した際は、最終更新日を記録
- **バージョン管理**: 大きな変更があった場合は、バージョン番号を更新
- **関連ファイルへのリンク**: 関連する他のサブタスクファイルを参照

### 4. コンテキストを提供

- **なぜこのタスクが必要か**: 目的を明確に説明
- **前後のタスクとの関係**: 依存関係や順序を説明
- **よくある失敗例**: Tipsセクションで失敗例と対策を共有

### 5. メンテナンス

定期的に以下を確認：

- [ ] 情報が最新か（ツール名、URL、連絡先など）
- [ ] リンク切れがないか
- [ ] 実際に使われているか（使われていないファイルは削除や統合を検討）
- [ ] フィードバックを反映しているか

---

## 実際の使い方（ユースケース）

### ケース1: イベント企画者として使う

1. `tasks.csv`を開いて、全体のタスクフローを確認
2. 現在取り組むべきタスクを特定
3. 該当タスクの`subtasks.csv`を確認し、サブタスクを洗い出し
4. 各サブタスクの詳細ファイル（`subtask_details/*.md`）を開く
5. 「コピー可能なテンプレート」をコピーして、実際のドキュメントを作成
6. 「チェックリスト」を使って、完了確認

### ケース2: チームメンバーとして作業する

1. 担当するサブタスクが割り当てられる
2. `subtasks.csv`で、サブタスクの`instructions`と`deliverables`を確認
3. `template_files`に記載されたファイルを開く
4. 「実施手順」に従って作業を進める
5. 「コピー可能なテンプレート」を使って成果物を作成
6. 「チェックリスト」で完了確認し、成果物を提出

### ケース3: 新しいイベント用にカスタマイズする

1. 既存の`tasks.csv`と`subtasks.csv`をコピー
2. イベントの特性に合わせて、タスクを追加・削除
3. 新しいサブタスクが必要な場合:
   - `_TEMPLATE.md`をコピーして新しいファイルを作成
   - 内容をカスタマイズ
   - `subtasks.csv`に追加
4. 既存のサブタスク詳細ファイルの「コピー可能なテンプレート」を修正
5. チーム全体で共有し、運用開始

### ケース4: ナレッジベースとして活用

- 過去のイベントの知見が蓄積されているため、次回企画時の参考資料として活用
- 新しいメンバーのオンボーディング資料として活用
- 「Tips」セクションに実際の経験から得た知見を追記し続ける
- 成功事例・失敗事例を「コピー可能なテンプレート」に反映

---

## ライセンス

MITライセンス

---

## お問い合わせ

プロジェクトに関する質問や提案は、GitHubのIssueまでお願いします。
